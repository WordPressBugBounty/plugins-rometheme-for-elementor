<?php

$menus = \RTMKit\Modules\Menu::instance()->get_menus();
$path = isset($_POST['path']) ? sanitize_text_field($_POST['path']) : 'dashboard';

$icons = [
    'get_started' => '<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.75038 5.84174C8.75038 4.23413 7.44715 2.93091 5.83954 2.93091C4.23194 2.93091 2.92871 4.23413 2.92871 5.84174C2.92871 7.44935 4.23194 8.75257 5.83954 8.75257C7.44715 8.75257 8.75038 7.44935 8.75038 5.84174Z" stroke="currentColor" stroke-miterlimit="10"/>
<path d="M17.058 5.84174C17.058 4.23413 15.7548 2.93091 14.1472 2.93091C12.5396 2.93091 11.2363 4.23413 11.2363 5.84174C11.2363 7.44935 12.5396 8.75257 14.1472 8.75257C15.7548 8.75257 17.058 7.44935 17.058 5.84174Z" stroke="currentColor" stroke-miterlimit="10"/>
<path d="M8.75038 14.1774C8.75038 12.5698 7.44715 11.2666 5.83954 11.2666C4.23194 11.2666 2.92871 12.5698 2.92871 14.1774C2.92871 15.785 4.23194 17.0883 5.83954 17.0883C7.44715 17.0883 8.75038 15.785 8.75038 14.1774Z" stroke="currentColor" stroke-miterlimit="10"/>
<path d="M17.058 14.1774C17.058 12.5698 15.7548 11.2666 14.1472 11.2666C12.5396 11.2666 11.2363 12.5698 11.2363 14.1774C11.2363 15.785 12.5396 17.0883 14.1472 17.0883C15.7548 17.0883 17.058 15.785 17.058 14.1774Z" stroke="currentColor" stroke-miterlimit="10"/>
</svg>
',
    'features' => '<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M7.67289 18.005L8.60956 11.5858H4.83789L11.4212 2.09912L10.5079 9.33829H14.9121L7.67289 18.005Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
',
    'settings' => '<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.66685 17.25L8.37518 14.9166C8.08352 14.8333 7.76018 14.6941 7.40602 14.5C7.05185 14.3058 6.75685 14.0975 6.52018 13.875L4.37435 14.7916L3.04102 12.4583L4.89518 11.0625C4.86768 10.8958 4.84268 10.7225 4.82185 10.5416C4.80102 10.3608 4.79018 10.1875 4.79018 10.0208C4.79018 9.86829 4.80102 9.70496 4.82185 9.53079C4.84268 9.35662 4.86685 9.15912 4.89518 8.93662L3.04102 7.54079L4.37435 5.24912L6.49935 6.14496C6.77685 5.90912 7.07935 5.69662 7.40602 5.50912C7.73268 5.32162 8.04852 5.17912 8.35435 5.08162L8.66685 2.74829H11.3335L11.6252 5.10246C11.986 5.22746 12.3027 5.36996 12.5735 5.52996C12.8443 5.68996 13.126 5.89496 13.4177 6.14496L15.626 5.24912L16.9593 7.54079L15.0218 8.99912C15.0777 9.19329 15.1085 9.37079 15.116 9.53079C15.1235 9.69079 15.1268 9.84662 15.1268 9.99996C15.1268 10.1391 15.1202 10.2883 15.106 10.4483C15.0918 10.6083 15.0643 10.8058 15.0227 11.0425L16.9185 12.4591L15.5852 14.7925L13.4185 13.855C13.1268 14.105 12.8352 14.3166 12.5435 14.4908C12.2518 14.665 11.946 14.8 11.6268 14.8975L11.3352 17.2516H8.66852L8.66685 17.25ZM9.95852 12.5158C10.6635 12.5158 11.2593 12.2725 11.7452 11.7866C12.231 11.3008 12.4743 10.705 12.4743 9.99996C12.4743 9.29496 12.231 8.69912 11.7452 8.21329C11.2593 7.72746 10.6635 7.48412 9.95852 7.48412C9.25352 7.48412 8.65768 7.72746 8.17185 8.21329C7.68602 8.69912 7.44268 9.29496 7.44268 9.99996C7.44268 10.705 7.68602 11.3008 8.17185 11.7866C8.65768 12.2725 9.25352 12.5158 9.95852 12.5158Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
',
    'information' => '<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.97878 2.49666C14.1054 2.49666 17.4621 5.85416 17.4621 9.98C17.4621 14.1058 14.1046 17.4633 9.97878 17.4633C5.85294 17.4633 2.49544 14.1067 2.49544 9.98083C2.49544 5.855 5.85211 2.49666 9.97878 2.49666ZM9.97878 1.66333C5.38544 1.66333 1.66211 5.3875 1.66211 9.98083C1.66211 14.5742 5.38544 18.2975 9.97878 18.2975C14.5721 18.2975 18.2954 14.5742 18.2954 9.98083C18.2954 5.3875 14.5721 1.66333 9.97878 1.66333Z" fill="currentColor"/>
<path d="M10.0186 7.75513V14.3435" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M9.97895 6.52674C10.2192 6.52674 10.4139 6.33198 10.4139 6.09174C10.4139 5.85149 10.2192 5.65674 9.97895 5.65674C9.7387 5.65674 9.54395 5.85149 9.54395 6.09174C9.54395 6.33198 9.7387 6.52674 9.97895 6.52674Z" fill="currentColor"/>
</svg>
'
];
?>


<div class="sidebar">
    <div class="logo">
        <div class="logo-image">
            <img src="<?php echo esc_url(RTM_KIT_URL . 'assets/images/rtmkit.png'); ?>" alt="RTMKit Logo">
        </div>
        <span class="rtmkit-version">v.<?php echo esc_html(RTM_KIT_VERSION) ?></span>
    </div>
    <div class="menu-wrapper">
        <div class="menus gap-3">
            <?php foreach ($menus as $section => $items): ?>
                <div class="menu-section">
                    
                        <button class="btn btn-transparent menu-dropdown" type="button" data-bs-toggle="collapse" data-bs-target="#<?php echo esc_attr($section) ?>" aria-expanded="<?php echo ($section == 'get_started') ? esc_attr("true") : esc_attr("false") ?>" aria-controls="<?php echo esc_attr($section) ?>">
                            <h3 class="menu-section-title m-0"><?php echo $icons[$section] ?><?php echo esc_html(ucfirst(str_replace('_', ' ', $section))); ?></h3>
                        </button>
                        <div class="collapse <?php echo ($section == 'get_started') ? esc_attr("show") : "" ?>" id="<?php echo esc_attr($section) ?>">
                            <ul class="menu-list">
                                <?php foreach ($items as $key => $item): ?>
                                    <li class="menu-item">
                                        <a target="<?php echo esc_attr($item['target']) ?>" href="<?php echo (isset($item['target'])) ? esc_url($item['menu_slug']) : esc_url('admin.php?page=' . $item['menu_slug']); ?>" class="menu-link <?php echo $path === str_replace('_', '-', $key) ? 'current' : ''; ?>">
                                            <?php echo esc_html($item['title']); ?>
                                        </a>
                                    </li>
                                <?php endforeach; ?>
                            </ul>
                        </div>
                    
                </div>
            <?php endforeach; ?>
        </div>
    </div>
    <div class="sidebar-footer">
        <a href="https://rometheme.net/plugins/rtmkit/pricing/" target="_blank" class="btn btn-accent">
            <svg width="30" height="30" viewBox="0 0 24 29" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.49698 9.00236L4.78398 19.9374H19.227L20.513 9.00236L16.503 11.6754L12.005 5.37836L7.50698 11.6754L3.49698 9.00236ZM2.80598 6.13736L7.00498 8.93736L11.191 3.07636C11.2835 2.94673 11.4056 2.84107 11.5472 2.76816C11.6888 2.69526 11.8457 2.65723 12.005 2.65723C12.1642 2.65723 12.3212 2.69526 12.4628 2.76816C12.6044 2.84107 12.7265 2.94673 12.819 3.07636L17.005 8.93636L21.205 6.13736C21.3639 6.03169 21.5497 5.97368 21.7404 5.97019C21.9312 5.96669 22.119 6.01785 22.2817 6.11762C22.4443 6.2174 22.575 6.36163 22.6584 6.53328C22.7417 6.70493 22.7742 6.89684 22.752 7.08636L21.11 21.0534C21.0816 21.2968 20.9647 21.5213 20.7817 21.6843C20.5986 21.8472 20.3621 21.9373 20.117 21.9374H3.89398C3.6489 21.9373 3.41236 21.8472 3.22931 21.6843C3.04625 21.5213 2.92941 21.2968 2.90098 21.0534L1.25798 7.08736C1.2354 6.89761 1.26767 6.70536 1.35095 6.53337C1.43424 6.36138 1.56506 6.21686 1.72792 6.11691C1.89079 6.01696 2.07889 5.96576 2.26995 5.96939C2.461 5.97301 2.64702 6.0313 2.80598 6.13736ZM12.006 15.9374C11.7433 15.9374 11.4833 15.8858 11.2406 15.7853C10.9979 15.6849 10.7774 15.5376 10.5916 15.3519C10.4059 15.1663 10.2585 14.9458 10.1579 14.7032C10.0573 14.4606 10.0055 14.2005 10.0055 13.9379C10.0054 13.6752 10.0571 13.4151 10.1575 13.1725C10.258 12.9298 10.4052 12.7093 10.5909 12.5235C10.7766 12.3377 10.997 12.1904 11.2397 12.0898C11.4823 11.9892 11.7423 11.9374 12.005 11.9374C12.5354 11.9374 13.0441 12.1481 13.4192 12.5231C13.7943 12.8982 14.005 13.4069 14.005 13.9374C14.005 14.4678 13.7943 14.9765 13.4192 15.3516C13.0441 15.7266 12.5364 15.9374 12.006 15.9374Z" fill="#121416"></path>
            </svg>
            Go to Pro
        </a>
    </div>
</div>